<div data-hook="admin_user_form_fields" class="row">
  <div class="alpha six columns">
    <%= f.field_container :email do %>
    <%= f.label :email, Spree.t(:email) %>
    <%= f.email_field :email, :class => 'fullwidth' %>
    <% %>
    <%= error_message_on :user, :email %>
    <% end %>

    <div data-hook="admin_user_form_roles" class="field">
      <%= label_tag nil, Spree.t(:roles) %>
      <ul>
        <% @roles.each do |role| %>
        <li>
          <%= check_box_tag 'user[spree_role_ids][]', role.id, @user.spree_roles.include?(role), :id => "user_spree_role_#{role.name}" %>
          <%= label_tag role.name %>
        </li>
        <% end %>
      </ul>
      <%= hidden_field_tag 'user[spree_role_ids][]', '' %>
    </div>

  </div>

  <div class="omega six columns">
    <%= f.field_container :password do %>
    <%= f.label :password, Spree.t(:password) %>
    <%= f.password_field :password, :class => 'fullwidth' %>
    <%= f.error_message_on :password %>
    <% end %>
    <%= f.field_container :password do %>
    <%= f.label :password_confirmation, Spree.t(:confirm_password) %>
    <%= f.password_field :password_confirmation, :class => 'fullwidth' %>
    <%= f.error_message_on :password_confirmation %>
    <% end %>
  </div>
  <div class="alpha six columns">
    <div class="field">
      <label>Customer Code</label>
      <input type="text" class="fullwidth" placeholder="<%= @user.id %>", readonly>
    </div>
  </div>
  <div class="omega six columns">
    <%= f.field_container :avalara_entity_use_code_id do %>
    <%= label_tag :avalara_entity_use_code_id, t(:avalara_entity_use_code) %><br />
    <%= hidden_field_tag 'user[avalara_entity_use_code_id]', f.object.avalara_entity_use_code_id , :class => "use_code_picker fullwidth" %>
    <% end %>
  </div>
  <div class="omega six columns">
    <%= f.field_container :exemption_number do %>
    <%= f.label :exemption_number, Spree.t(:exemption_number) %>
    <%= f.text_field :exemption_number, :class => 'fullwidth' %>
    <% end %>
  </div>
  <div class="alpha six columns">
    <% if @user.ship_address.nil? %>
    <p>No Address given</p>
    <% else %>
    <%= link_to({:controller => :avatax_settings, :action => :validate_address, :remote => true, user_address: @user.ship_address }, {:class => 'btn btn-small'}) do %>
    <button>Validate Address</button>
    <% end %>
    <% end %>
  </div>

</div>